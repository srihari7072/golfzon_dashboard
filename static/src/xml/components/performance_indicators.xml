<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="golfzon_dashboard.PerformanceIndicators">
        <div class="performance-indicators-section">
            <h2 class="main-section-title">Cloud CC Core Performance Indicators</h2>
            <div class="performance-cards-container">
                <!-- Sales Performance Card -->
                <t t-call="golfzon_dashboard.PerformanceCard">
                    <t t-set="cardClass" t-value="'sales-card'"/>
                    <t t-set="currentValue" t-value="state.performanceData.sales_performance.current_revenue"/>
                    <t t-set="monthlyValue" t-value="state.performanceData.sales_performance.monthly_revenue"/>
                    <t t-set="currentTrend" t-value="state.performanceData.sales_performance.current_trend"/>
                    <t t-set="monthlyTrend" t-value="state.performanceData.sales_performance.monthly_trend"/>
                    <t t-set="hasTrendDown" t-value="false"/>
                </t>
                <!-- Average Order Value Card -->
                <t t-call="golfzon_dashboard.PerformanceCard">
                    <t t-set="cardClass" t-value="'order-value-card'"/>
                    <t t-set="currentValue" t-value="state.performanceData.avg_order_value.current_weekly_value"/>
                    <t t-set="monthlyValue" t-value="state.performanceData.avg_order_value.monthly_value"/>
                    <t t-set="currentTrend" t-value="state.performanceData.avg_order_value.current_trend"/>
                    <t t-set="monthlyTrend" t-value="state.performanceData.avg_order_value.monthly_trend"/>
                    <t t-set="hasTrendDown" t-value="false"/>
                </t>
                <!-- Utilization Rate Card -->
                <t t-call="golfzon_dashboard.PerformanceCard">
                    <t t-set="cardClass" t-value="'utilization-card'"/>
                    <t t-set="currentValue" t-value="state.performanceData.utilization_rate.current_weekly_capacity"/>
                    <t t-set="monthlyValue" t-value="state.performanceData.utilization_rate.monthly_capacity"/>
                    <t t-set="currentTrend" t-value="state.performanceData.utilization_rate.current_trend"/>
                    <t t-set="monthlyTrend" t-value="state.performanceData.utilization_rate.monthly_trend"/>
                    <t t-set="hasTrendDown" t-value="true"/>
                </t>
            </div>
        </div>
    </t>

    <t t-name="golfzon_dashboard.PerformanceCard">
        <div t-att-class="'performance-card ' + cardClass">
            <div class="card-header">
                <h3 class="card-title">
                    <t t-if="cardClass === 'sales-card'">Sales Performance Indicators</t>
                    <t t-if="cardClass === 'order-value-card'">Average Order Value Performance</t>
                    <t t-if="cardClass === 'utilization-card'">Utilization Rate Performance</t>
                </h3>
            </div>
            <div class="card-content">
                <div class="metrics-row">
                    <div class="metric-column">
                        <div class="metric-label">
                            <t t-if="cardClass === 'sales-card'">Cumulative Sales This Year</t>
                            <t t-if="cardClass === 'order-value-card'">Cumulative Unit Price This Year</t>
                            <t t-if="cardClass === 'utilization-card'">Cumulative Operation Rate This Year</t>
                        </div>
                        <div class="metric-value" t-esc="currentValue"/>
                        <div class="trend-wrapper">
                            <div t-att-class="'trend-indicator ' + (hasTrendDown ? 'trend-down' : 'trend-up')">
                                <span class="trend-icon" t-esc="hasTrendDown ? '▼' : '▲'"/>
                                <span t-esc="currentTrend"/>
                            </div>
                            <div class="trend-period">(year-over-year)</div>
                        </div>
                    </div>
                    <div class="metric-column">
                        <div class="metric-label">
                            <t t-if="cardClass === 'sales-card'">Current Monthly Sales</t>
                            <t t-if="cardClass === 'order-value-card'">Current Monthly Guest Price</t>
                            <t t-if="cardClass === 'utilization-card'">Current Month Operation Rate</t>
                        </div>
                        <div class="metric-value" t-esc="monthlyValue"/>
                        <div class="trend-wrapper">
                            <div class="trend-indicator trend-up">
                                <span class="trend-icon">▲</span>
                                <span t-esc="monthlyTrend"/>
                            </div>
                            <div class="trend-period">(year-over-year)</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</templates>

