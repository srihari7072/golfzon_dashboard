<templates xml:space="preserve">
    <t t-name="golfzon_dashboard.PerformanceIndicators">
        <div class="performance-indicators-section">
            <h2 class="main-section-title" t-esc="_t('Cloud CC Core Performance Indicators')"/>
            <div class="performance-cards-container">
                <!-- Sales Performance Card -->
                <t t-call="golfzon_dashboard.PerformanceCard">
                    <t t-set="cardClass" t-value="'sales-card'"/>
                    <t t-set="currentValue" t-value="state.performanceData.sales_performance.current_revenue"/>
                    <t t-set="monthlyValue" t-value="state.performanceData.sales_performance.monthly_revenue"/>
                    <t t-set="currentTrend" t-value="state.performanceData.sales_performance.current_trend"/>
                    <t t-set="monthlyTrend" t-value="state.performanceData.sales_performance.monthly_trend"/>
                    <t t-set="hasTrendDown" t-value="false"/>
                </t>
                <!-- Average Order Value Card -->
                <t t-call="golfzon_dashboard.PerformanceCard">
                    <t t-set="cardClass" t-value="'order-value-card'"/>
                    <t t-set="currentValue" t-value="state.performanceData.avg_order_value.current_weekly_value"/>
                    <t t-set="monthlyValue" t-value="state.performanceData.avg_order_value.monthly_value"/>
                    <t t-set="currentTrend" t-value="state.performanceData.avg_order_value.current_trend"/>
                    <t t-set="monthlyTrend" t-value="state.performanceData.avg_order_value.monthly_trend"/>
                    <t t-set="hasTrendDown" t-value="false"/>
                </t>
                <!-- Utilization Rate Card -->
                <t t-call="golfzon_dashboard.PerformanceCard">
                    <t t-set="cardClass" t-value="'utilization-card'"/>
                    <t t-set="currentValue" t-value="state.performanceData.utilization_rate.current_weekly_capacity"/>
                    <t t-set="monthlyValue" t-value="state.performanceData.utilization_rate.monthly_capacity"/>
                    <t t-set="currentTrend" t-value="state.performanceData.utilization_rate.current_trend"/>
                    <t t-set="monthlyTrend" t-value="state.performanceData.utilization_rate.monthly_trend"/>
                    <t t-set="hasTrendDown" t-value="true"/>
                </t>
            </div>
        </div>
    </t>

    <t t-name="golfzon_dashboard.PerformanceCard">
        <div t-att-class="'performance-card ' + cardClass">
            <div class="card-header">
                <h3 class="card-title">
                    <t t-if="cardClass === 'sales-card'" t-esc="_t('Sales Performance Indicators')"/>
                    <t t-if="cardClass === 'order-value-card'" t-esc="_t('Average Order Value Performance')"/>
                    <t t-if="cardClass === 'utilization-card'" t-esc="_t('Utilization Rate Performance')"/>
                </h3>
            </div>
            <div class="card-content">
                <div class="metrics-row">
                    <div class="metric-column">
                        <div class="metric-label">
                            <t t-if="cardClass === 'sales-card'" t-esc="_t('Cumulative Sales This Year')"/>
                            <t t-if="cardClass === 'order-value-card'" t-esc="_t('Cumulative Unit Price This Year')"/>
                            <t t-if="cardClass === 'utilization-card'" t-esc="_t('Cumulative Operation Rate This Year')"/>
                        </div>
                        <div class="metric-value" t-esc="currentValue"/>
                        <div class="trend-wrapper">
                            <div t-att-class="'trend-indicator ' + (hasTrendDown ? 'trend-down' : 'trend-up')">
                                <span class="trend-icon" t-esc="hasTrendDown ? '▼' : '▲'"/>
                                <span t-esc="currentTrend"/>
                            </div>
                            <div class="trend-period" t-esc="_t('(year-over-year)')"/>
                        </div>
                    </div>
                    <div class="metric-column">
                        <div class="metric-label">
                            <t t-if="cardClass === 'sales-card'" t-esc="_t('Current Monthly Sales')"/>
                            <t t-if="cardClass === 'order-value-card'" t-esc="_t('Current Monthly Guest Price')"/>
                            <t t-if="cardClass === 'utilization-card'" t-esc="_t('Current Month Operation Rate')"/>
                        </div>
                        <div class="metric-value" t-esc="monthlyValue"/>
                        <div class="trend-wrapper">
                            <div t-att-class="'trend-indicator ' + (hasTrendDown ? 'trend-down' : 'trend-up')">
                                <span class="trend-icon" t-esc="hasTrendDown ? '▼' : '▲'"/>
                                <span t-esc="monthlyTrend"/>
                            </div>
                            <div class="trend-period" t-esc="_t('(year-over-year)')"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</templates>
